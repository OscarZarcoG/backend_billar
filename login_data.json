{
  "endpoints": {
    "base_url": "http://localhost:8000/api",
    "auth_endpoints": {
      "register": {
        "url": "/auth/register/",
        "method": "POST",
        "description": "Registrar nuevo usuario",
        "auth_required": false,
        "body_example": "register_data.new_client",
        "code": "201 Created",
        "status": "Running"
      },
      "login": {
        "url": "/auth/login/",
        "method": "POST",
        "description": "Iniciar sesión",
        "auth_required": false,
        "body_example": "login_data.client_login",
        "code": "200 OK",
        "status": "Running"
      },
      "logout": {
        "url": "/auth/logout/",
        "method": "POST",
        "description": "Cerrar sesión",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "code": "200 OK",
        "status": "Running"
      },
      "about me": {
        "url": "/auth/me/",
        "method": "GET",
        "description": "Obtener información del usuario actual",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "code": "200 OK",
        "status": "Running"
      },
      "update_profile": {
        "url": "/auth/update-profile/",
        "method": "PUT/PATCH",
        "description": "Actualizar perfil del usuario actual",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "body_example": "update_profile_data",
        "code": "200 OK",
        "status": "Running"
      },
      "change_password": {
        "url": "/auth/change-password/",
        "method": "POST",
        "description": "Cambiar contraseña del usuario actual",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "body_example": "change_password_data",
        "code": "200 OK",
        "status": "Running"
      },
      "users_by_role": {
        "url": "/auth/users-by-role/",
        "method": "GET",
        "description": "Obtener usuarios por rol (admin/root only)",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "query_params": {
          "role": "client|admin|root (opcional)"
        },
        "code": "200 OK",
        "status": "Running"
      },
      "list_users": {
        "url": "/auth/",
        "method": "GET",
        "description": "Listar todos los usuarios activos",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "code": "200 OK",
        "status": "Running"
      },
      "user_detail": {
        "url": "/auth/{id}/",
        "method": "GET",
        "description": "Obtener detalles de un usuario específico",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        }
      },
      "update_user": {
        "url": "/auth/{id}/",
        "method": "PUT",
        "description": "Actualizar usuario específico (solo root puede cambiar roles)",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "body_example": "update_user_data",
        "code": "200 OK",
        "status": "Running"
      },
      "partial_update_user": {
        "url": "/auth/{id}/",
        "method": "PATCH",
        "description": "Actualización parcial de usuario específico",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "body_example": "partial_update_user_data",
        "code": "200 OK",
        "status": "Running"
      },
      "soft_delete_user": {
        "url": "/auth/{id}/",
        "method": "DELETE",
        "description": "Desactivar usuario (soft delete)",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "code": "204 No Content",
        "status": "Running"
      },
      "change_user_role": {
        "url": "/auth/{id}/change-user-role/",
        "method": "PATCH",
        "description": "Cambiar rol de usuario (solo root)",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "body_example": "change_role_data",
        "code": "200 OK",
        "status": "Running"
      },
      "hard_delete": {
        "url": "/auth/{id}/hard-delete/",
        "method": "DELETE",
        "description": "Eliminar usuario permanentemente (solo root)",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "code": "204 No Content",
        "status": "Running"
      },
      "restore": {
        "url": "/auth/{id}/restore/",
        "method": "PATCH",
        "description": "Restaurar usuario desactivado (admin/root)",
        "auth_required": true,
        "headers": {
          "Authorization": "Token {token}"
        },
        "code": "200 OK",
        "status": "Running"
      }
    }
  },
  "login_data": {
    "admin_login": {
      "username": "laura_admin",
      "password": "AdminPass456*"
    },
    "client_login": {
      "username": "pedro_cliente",
      "password": "NuevoPass123!"
    },
    "root_login": {
      "username": "daniel",
      "password": "dasher123"
    }
  },
  "register_data": {
    "new_client": {
      "username": "pedro_cliente",
      "first_name": "Pedro",
      "last_name": "Sánchez",
      "email": "pedro.sanchez@email.com",
      "password": "NuevoPass123!",
      "password_confirm": "NuevoPass123!",
      "phone": "+34600111222",
      "birthday": "1993-07-18",
      "gender": "male",
      "role": "client"
    },
    "new_admin": {
      "username": "laura_admin",
      "first_name": "Laura",
      "last_name": "Fernández",
      "email": "laura.fernandez@empresa.com",
      "password": "AdminPass456*",
      "password_confirm": "AdminPass456*",
      "phone": "+34700333444",
      "birthday": "1987-04-25",
      "gender": "female",
      "role": "admin"
    },
    "new_root": {
      "username": "daniel",
      "first_name": "Oscar Daniel",
      "last_name": "Zarco González",
      "email": "daniel@gmail.com",
      "password": "dasher123",
      "password_confirm": "dasher123",
      "phone": "7291428946",
      "birthday": "2003-12-18",
      "gender": "male",
      "role": "root"
    }
  },
  "update_profile_data": {
    "username": "daniel",
    "first_name": "Oscar",
    "last_name": "Zarco González",
    "email": "danielzargon@gmail.com",
    "password": "dasher123",
    "password_confirm": "dasher123",
    "phone": "7291428946",
    "birthday": "2003-12-18",
    "gender": "male",
    "role": "root"
  },
  "restore_profile_data": {
    "username": "daniel",
    "first_name": "Oscar Daniel",
    "last_name": "Zarco González",
    "email": "daniel@gmail.com",
    "password": "dasher123",
    "password_confirm": "dasher123",
    "phone": "7291428946",
    "birthday": "2003-12-18",
    "gender": "male",
    "role": "root"
  },
  "change_password_data": {
    "old_password": "dasher123",
    "new_password": "dasher135"
  },
  "update_user_data": {
    "first_name": "Usuario Actualizado",
    "last_name": "Apellido Nuevo",
    "email": "usuario.actualizado@email.com",
    "phone": "+34700888999",
    "role": "admin"
  },
  "partial_update_user_data": {
    "first_name": "Nombre Parcial"
  },
  "change_role_data": {
    "role": "admin"
  },
  "test_scenarios": {
    "authentication_flow": {
      "1": "POST /auth/register/ - Registrar nuevo usuario",
      "2": "POST /auth/login/ - Iniciar sesión con el usuario registrado",
      "3": "GET /auth/me/ - Verificar información del usuario autenticado",
      "4": "POST /auth/logout/ - Cerrar sesión"
    },
    "user_management_flow": {
      "1": "POST /auth/login/ - Iniciar sesión como root",
      "2": "GET /auth/ - Listar todos los usuarios",
      "3": "GET /auth/users-by-role/?role=client - Filtrar usuarios por rol",
      "4": "PATCH /auth/{id}/change-user-role/ - Cambiar rol de usuario",
      "5": "DELETE /auth/{id}/ - Desactivar usuario (soft delete)",
      "6": "PATCH /auth/{id}/restore/ - Restaurar usuario",
      "7": "DELETE /auth/{id}/hard-delete/ - Eliminar permanentemente"
    },
    "profile_management_flow": {
      "1": "POST /auth/login/ - Iniciar sesión",
      "2": "PUT /auth/update-profile/ - Actualizar perfil completo",
      "3": "POST /auth/change-password/ - Cambiar contraseña",
      "4": "GET /auth/me/ - Verificar cambios"
    }
  },
  "postman_collection_info": {
    "variables": {
      "base_url": "http://localhost:8000/api",
      "token": "{{auth_token}}",
      "user_id": "{{user_id}}"
    },
    "headers": {
      "Content-Type": "application/json",
      "Authorization": "Token {{auth_token}}"
    },
    "notes": {
      "authentication": "Después del login, guarda el token en una variable de Postman llamada 'auth_token'",
      "user_ids": "Reemplaza {id} en las URLs con IDs reales de usuarios",
      "permissions": "Algunos endpoints requieren permisos específicos (admin/root)",
      "soft_delete": "Los usuarios desactivados no aparecen en listados normales",
      "restore": "Solo usuarios con soft delete pueden ser restaurados"
    }
  }
}